{
  "type": "script",
  "seleniumVersion": "2",
  "formatVersion": 2,
  "steps": [
    {
      "type": "get",
      "url": "http://demo.nodeportal.com/home"
    },
    {
      "type": "clickElement",
      "locator": {
        "type": "link text",
        "value": "Login"
      }
    },
    {
      "type": "setElementText",
      "locator": {
        "type": "id",
        "value": "login_email"
      },
      "text": "testadmin@nodeportal.com"
    },
    {
      "type": "setElementText",
      "locator": {
        "type": "id",
        "value": "login_password"
      },
      "text": "admin"
    },
    {
      "type": "clickElement",
      "locator": {
        "type": "id",
        "value": "login_submit_login"
      }
    },
    {
      "type": "clickElement",
      "locator": {
        "type": "xpath",
        "value": "//li[@class='dropdown']//a[.='testUserAdmin']"
      }
    },
    {
      "type": "clickElement",
      "locator": {
        "type": "id",
        "value": "site_settings_page"
      }
    },
    {
      "type": "clickElement",
      "locator": {
        "type": "link text",
        "value": "Layout Builder"
      }
    },
    {
      "type": "clickElement",
      "locator": {
        "type": "id",
        "value": "layoutBuilder_create"
      }
    },
    {
      "type": "waitForElementPresent",
      "locator": {
        "type": "css selector",
        "value": "input.input-block-level"
      }
    },
    {
      "type": "setElementText",
      "locator": {
        "type": "css selector",
        "value": "input.input-block-level"
      },
      "text": "new layout test"
    },
    {
      "type": "clickElement",
      "locator": {
        "type": "link text",
        "value": "OK"
      }
    },
    {
      "type": "clickElement",
      "locator": {
        "type": "css selector",
        "value": "#layoutBuilder_successFlash > button.close"
      }
    },
    {
      "type": "refresh"
    },
    {
      "type": "clickElement",
      "locator": {
        "type": "id",
        "value": "layoutBuilder_open"
      }
    },
    {
      "type": "clickElement",
      "locator": {
        "type": "link text",
        "value": "new layout test"
      }
    },
    {
      "type": "clickElement",
      "locator": {
        "type": "id",
        "value": "layoutBuilder_template"
      }
    },
    {
      "type": "setElementText",
      "locator": {
        "type": "id",
        "value": "layoutBuilder_template"
      },
      "text": ".column.span8 !{col1HTMLTMPL}\n.column.span4 !{col2HTMLTMPL}"
    },
    {
      "type": "setElementText",
      "locator": {
        "type": "id",
        "value": "layoutBuilder_template"
      },
      "text": ".column.span8. !{col1HTMLTMPL}\n.column.span4 !{col2HTMLTMPL}\n.column.span4 !{col2HTMLTMPL}"
    },
    {
      "type": "setElementText",
      "locator": {
        "type": "id",
        "value": "layoutBuilder_template"
      },
      "text": ".column.span8 !{col1HTMLTMPL}\n.column.span4 !{col2HTMLTMPL}\n.column.span4 !{col3HTMLTMPL}"
    },
    {
      "type": "setElementText",
      "locator": {
        "type": "id",
        "value": "layoutBuilder_template"
      },
      "text": ".column.span4 !{col1HTMLTMPL}\n.column.span4 !{col2HTMLTMPL}\n.column.span4 !{col3HTMLTMPL}"
    },
    {
      "type": "setElementText",
      "locator": {
        "type": "id",
        "value": "layoutBuilder_template"
      },
      "text": ".column.span4.pc1 !{col1HTMLTMPL}\n.column.span4.pc2 !{col2HTMLTMPL}\n.column.span4.pc3 !{col3HTMLTMPL}"
    },
    {
      "type": "setElementText",
      "locator": {
        "type": "id",
        "value": "layoutBuilder_placeholders"
      },
      "text": "col3HTMLTMPL,col1HTMLTMPL,col2HTMLTMPL"
    },
    {
      "type": "clickElement",
      "locator": {
        "type": "css selector",
        "value": "div.controls"
      }
    },
    {
      "type": "clickElement",
      "locator": {
        "type": "id",
        "value": "layoutBuilder_placeholders"
      }
    },
    {
      "type": "clickElement",
      "locator": {
        "type": "id",
        "value": "layoutBuilder_submit_save"
      }
    },
    {
      "type": "clickElement",
      "locator": {
        "type": "css selector",
        "value": "button.close"
      }
    },
    {
      "type": "clickElement",
      "locator": {
        "type": "link text",
        "value": "Site Pages"
      }
    },
    {
      "type": "clickElement",
      "locator": {
        "type": "id",
        "value": "next"
      }
    },
    {
      "type": "setElementText",
      "locator": {
        "type": "id",
        "value": "managePage_name"
      },
      "text": "New page for layout testing"
    },
    {
      "type": "setElementText",
      "locator": {
        "type": "id",
        "value": "managePage_friendlyURL"
      },
      "text": "newpageforlayouttesting"
    },
    {
      "type": "setElementSelected",
      "locator": {
        "type": "xpath",
        "value": "//form[@id='managePage_fm']/fieldset/div[4]/div/select//option[3]"
      }
    },
    {
      "type": "clickElement",
      "locator": {
        "type": "id",
        "value": "managePage_submit_update"
      }
    },
    {
      "type": "clickElement",
      "locator": {
        "type": "css selector",
        "value": "button.close"
      }
    },
    {
      "type": "clickElement",
      "locator": {
        "type": "link text",
        "value": "NodePortal"
      }
    },
    {
      "type": "clickElement",
      "locator": {
        "type": "link text",
        "value": "New page for layout testing"
      }
    },
    {
      "type": "clickElement",
      "locator": {
        "type": "xpath",
        "value": "//div[@class='row-fluid']/div[1]"
      }
    },
    {
      "type": "clickElement",
      "locator": {
        "type": "xpath",
        "value": "//html/body"
      }
    },
    {
      "type": "clickElement",
      "locator": {
        "type": "link text",
        "value": "testUserAdmin"
      }
    },
    {
      "type": "clickElement",
      "locator": {
        "type": "id",
        "value": "add_plugins"
      }
    },
    {
      "type": "setElementSelected",
      "locator": {
        "type": "id",
        "value": "displayArticle"
      }
    },
    {
      "type": "assertElementPresent",
      "locator": {
        "type": "css selector",
        "value": ".column.span4.pc1"
      }
    },
    {
      "type": "assertElementPresent",
      "locator": {
        "type": "css selector",
        "value": ".column.span4.pc2"
      }
    },
    {
      "type": "assertElementPresent",
      "locator": {
        "type": "css selector",
        "value": ".column.span4.pc3"
      }
    },
    {
      "type": "clickElement",
      "locator": {
        "type": "css selector",
        "value": ".displayArticle .tools .remove"
      }
    },
    {
      "type": "clickElement",
      "locator": {
        "type": "link text",
        "value": "testUserAdmin"
      }
    },
    {
      "type": "clickElement",
      "locator": {
        "type": "id",
        "value": "site_settings_page"
      }
    },
    {
      "type": "clickElement",
      "locator": {
        "type": "link text",
        "value": "Plugins Manager"
      }
    },
    {
      "type": "clickElement",
      "locator": {
        "type": "css selector",
        "value": ".action-button"
      }
    },
    {
      "type": "clickElement",
      "locator": {
        "type": "link text",
        "value": "Uninstall"
      }
    },
    {
      "type": "clickElement",
      "locator": {
        "type": "link text",
        "value": "OK"
      }
    },
    {
      "type": "waitForElementPresent",
      "locator": {
        "type": "css selector",
        "value": "button.close"
      }
    },
    {
      "type": "assertElementPresent",
      "locator": {
        "type": "css selector",
        "value": ".alert.alert-success "
      }
    },
    {
      "type": "clickElement",
      "locator": {
        "type": "link text",
        "value": "NodePortal"
      }
    },
    {
      "type": "clickElement",
      "locator": {
        "type": "link text",
        "value": "New page for layout testing"
      }
    },
    {
      "type": "assertElementPresent",
      "negated": true,
      "locator": {
        "type": "css selector",
        "value": ".column.span4.pc1"
      }
    },
    {
      "type": "assertElementPresent",
      "negated": true,
      "locator": {
        "type": "css selector",
        "value": ".column.span4.pc2"
      }
    },
    {
      "type": "assertElementPresent",
      "negated": true,
      "locator": {
        "type": "css selector",
        "value": ".column.span4.pc3"
      }
    },
    {
      "type": "clickElement",
      "locator": {
        "type": "link text",
        "value": "testUserAdmin"
      }
    },
    {
      "type": "clickElement",
      "locator": {
        "type": "id",
        "value": "site_settings_page"
      }
    },
    {
      "type": "clickElement",
      "locator": {
        "type": "link text",
        "value": "Site Pages"
      }
    },
    {
      "type": "clickElement",
      "locator": {
        "type": "link text",
        "value": "New page for layout testing"
      }
    },
    {
      "type": "clickElement",
      "locator": {
        "type": "id",
        "value": "delete"
      }
    },
    {
      "type": "clickElement",
      "locator": {
        "type": "link text",
        "value": "OK"
      }
    },
    {
      "type": "assertElementPresent",
      "locator": {
        "type": "css selector",
        "value": ".alert.alert-success "
      }
    }
  ],
  "data": {
    "configs": {},
    "source": "none"
  },
  "inputs": [],
  "timeoutSeconds": 20
}